!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e){e.exports=JSON.parse('{"name":"hrscourses/course-datetime","category":"common","attributes":{"blockValue":{"type":"string","source":"meta","meta":"_wsuwp_hrs_courses_datetime"}}}')},function(e){e.exports=JSON.parse('{"name":"hrscourses/course-location","category":"common","attributes":{"blockValue":{"type":"string","source":"meta","meta":"_wsuwp_hrs_courses_location"}}}')},function(e){e.exports=JSON.parse('{"name":"hrscourses/course-presenter","category":"common","attributes":{"blockValue":{"type":"string","source":"meta","meta":"_wsuwp_hrs_courses_presenter"}}}')},function(e){e.exports=JSON.parse('{"name":"hrscourses/course-video","category":"common","attributes":{"recordedVideoUrl":{"type":"string","source":"attribute","selector":"a","attribute":"href"},"recordedVideoLink":{"type":"string","default":"Video Recording"}}}')},function(e){e.exports=JSON.parse('{"name":"hrscourses/course-online","category":"common","attributes":{"onlineLearningUrl":{"type":"string","source":"attribute","selector":"a","attribute":"href"},"onlineLearningLink":{"type":"string","default":"Online Learning"}}}')},function(e){e.exports=JSON.parse('{"name":"hrscourses/list-courses","category":"widgets","supports":{"align":true,"html":false}}')},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(14),o=n(15);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(16);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",function(){return b}),n.d(r,"settings",function(){return y});var o={};n.r(o),n.d(o,"name",function(){return _}),n.d(o,"settings",function(){return E});var a={};n.r(a),n.d(a,"name",function(){return N}),n.d(a,"settings",function(){return R});var c={};n.r(c),n.d(c,"name",function(){return G}),n.d(c,"settings",function(){return H});var s={};n.r(s),n.d(s,"name",function(){return ce}),n.d(s,"settings",function(){return le});var i={};n.r(i),n.d(i,"name",function(){return ze}),n.d(i,"settings",function(){return Xe});var l=n(0),u=wp.i18n.__,p=wp.blockEditor.RichText;var d=n(1);var m=wp.i18n.__,b=d.name,f=d.category,g=d.attributes,y={title:m("Course Date and Time"),category:f,description:m("The date and/or time of the course."),icon:"calendar-alt",keywords:[m("courses")],attributes:g,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.blockValue,a=t.placeholder;return Object(l.createElement)("div",{className:n},Object(l.createElement)("div",{className:"components-base-control"},Object(l.createElement)("p",{className:"components-base-control__label"},u("Course date"))),Object(l.createElement)(p,{label:u("Course date and time"),placeholder:a||u("Add date and / or time…"),keepPlaceholderOnFocus:!0,value:o,onChange:function(e){return r({blockValue:e})},formattingControls:[]}))},save:function(){return null}},h=wp.i18n.__,v=wp.blockEditor.RichText;var O=n(2);var w=wp.i18n.__,_=O.name,C=O.category,j=O.attributes,E={title:w("Course Location"),category:C,description:w("The meeting location of the course."),icon:"location-alt",keywords:[w("location")],attributes:j,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.blockValue,a=t.placeholder;return Object(l.createElement)("div",{className:n},Object(l.createElement)("div",{className:"components-base-control"},Object(l.createElement)("p",{className:"components-base-control__label"},h("Course location"))),Object(l.createElement)(v,{label:h("Course location"),placeholder:a||h("Add location…","wsuwp-hrs-courses"),keepPlaceholderOnFocus:!0,value:o,onChange:function(e){return r({blockValue:e})},formattingControls:["bold","italic"]}))},save:function(){return null}},k=wp.i18n.__,x=wp.blockEditor.RichText;var L=n(3);var S=wp.i18n.__,N=L.name,P=L.category,T=L.attributes,R={title:S("Course Presenter(s)"),category:P,description:S("The course presenter(s)."),icon:"id",keywords:[S("courses"),S("people"),S("presenters")],attributes:T,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.blockValue,a=t.placeholder;return Object(l.createElement)("div",{className:n},Object(l.createElement)("div",{className:"components-base-control"},Object(l.createElement)("p",{className:"components-base-control__label"},k("Course presenter(s)"))),Object(l.createElement)(x,{label:k("Course date and time"),placeholder:a||k("Add presenter(s)…"),keepPlaceholderOnFocus:!0,value:o,onChange:function(e){return r({blockValue:e})},formattingControls:["bold"]}))},save:function(){return null}},V=wp.i18n.__,U=wp.element.Fragment,A=wp.components,F=A.PanelBody,M=A.TextControl,B=wp.blockEditor,D=B.InspectorControls,I=B.URLInput;var J=n(4),q=wp.blockEditor.RichText;var Q=wp.i18n.__,G=J.name,W=J.category,z=J.attributes,H={title:Q("Course Video URL"),category:W,description:Q("The URLs for a course video."),icon:"location-alt",keywords:[Q("media")],attributes:z,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.recordedVideoUrl,a=t.recordedVideoLink;return Object(l.createElement)(U,null,Object(l.createElement)(D,null,Object(l.createElement)(F,{title:V("Course Video Settings","wsuwp-hrs-courses")},Object(l.createElement)(M,{label:V("Course Video Link Text","wsuwp-hrs-courses"),help:V("Enter link text here to override the default video URL link text.","wsuwp-hrs-courses"),value:a,onChange:function(e){return r({recordedVideoLink:e})}}))),Object(l.createElement)("div",{className:n},Object(l.createElement)("div",{className:"components-base-control"},Object(l.createElement)("p",{className:"components-base-control__label"},V("Course video URL","wsuwp-hrs-courses"))),Object(l.createElement)(I,{autoFocus:!1,value:o,onChange:function(e){return r({recordedVideoUrl:e})}})))},save:function(e){var t=e.attributes,n=e.className,r=t.recordedVideoUrl,o=t.recordedVideoLink;return r?Object(l.createElement)(q.Content,{tagName:"a",className:"".concat(n," course-recorded-video__link"),href:r,value:o}):null}},K=wp.i18n.__,X=wp.element.Fragment,Y=wp.components,Z=Y.PanelBody,$=Y.TextControl,ee=wp.blockEditor,te=ee.InspectorControls,ne=ee.URLInput;var re=n(5),oe=wp.blockEditor.RichText;var ae=wp.i18n.__,ce=re.name,se=re.category,ie=re.attributes,le={title:ae("Course Online URL"),category:se,description:ae("The URLs for an online course."),icon:"location-alt",keywords:[ae("link")],attributes:ie,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.onlineLearningUrl,a=t.onlineLearningLink;return Object(l.createElement)(X,null,Object(l.createElement)(te,null,Object(l.createElement)(Z,{title:K("Online Course Settings","wsuwp-hrs-courses")},Object(l.createElement)($,{label:K("Online Course Link Text","wsuwp-hrs-courses"),help:K("Enter link text here to override the default online course URL link text.","wsuwp-hrs-courses"),value:a,onChange:function(e){return r({onlineLearningLink:e})}}))),Object(l.createElement)("div",{className:n},Object(l.createElement)("div",{className:"components-base-control"},Object(l.createElement)("p",{className:"components-base-control__label"},K("Online course URL"))),Object(l.createElement)(ne,{autoFocus:!1,value:o,onChange:function(e){return r({onlineLearningUrl:e})}})))},save:function(e){var t=e.attributes,n=e.className,r=t.onlineLearningUrl,o=t.onlineLearningLink;return r?Object(l.createElement)(oe.Content,{tagName:"a",className:"".concat(n," course-recorded-video__link"),href:r,value:o}):null}},ue=n(8),pe=n.n(ue),de=n(9),me=n.n(de),be=n(10),fe=n.n(be),ge=n(11),ye=n.n(ge),he=n(12),ve=n.n(he),Oe=n(13),we=n.n(Oe),_e=n(7),Ce=wp.i18n.__,je=wp.data.withSelect,Ee=wp.apiFetch,ke=wp.url.addQueryArgs,xe=wp.element.Component,Le=wp.blockEditor,Se=Le.InspectorControls,Ne=Le.BlockControls,Pe=wp.components,Te=Pe.Disabled,Re=Pe.PanelBody,Ve=Pe.Placeholder,Ue=Pe.QueryControls,Ae=Pe.RangeControl,Fe=Pe.Spinner,Me=Pe.ToggleControl,Be=Pe.Toolbar,De=Pe.RadioControl,Ie=Pe.ServerSideRender,Je={per_page:-1},qe=function(e){function t(){var e;return me()(this,t),(e=ye()(this,ve()(t).apply(this,arguments))).state={taxLearningProgramsList:[]},e}return we()(t,e),fe()(t,[{key:"componentDidMount",value:function(){var e=this;this.isStillMounted=!0,this.fetchRequest=Ee({path:ke("/wp/v2/learning_program",Je)}).then(function(t){e.isStillMounted&&e.setState({taxLearningProgramsList:t})}).catch(function(){e.isStillMounted&&e.setState({taxLearningProgramsList:[]})})}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,r=e.ListCourses,o=this.state.taxLearningProgramsList,a=t.displayCourseContentRadio,c=t.displayCourseContent,s=t.displayPostDate,i=t.postLayout,u=t.columns,p=t.order,d=t.orderBy,m=t.learningPrograms,b=t.coursesToShow,f=t.excerptLength,g=Object(l.createElement)(Se,null,Object(l.createElement)(Re,{title:Ce("Course Content Settings")},Object(l.createElement)(Me,{label:Ce("Display course content"),checked:c,onChange:function(e){return n({displayCourseContent:e})}}),c&&Object(l.createElement)(De,{label:"Show:",selected:a,options:[{label:"Excerpt",value:"excerpt"},{label:"Full post",value:"full_post"}],onChange:function(e){return n({displayCourseContentRadio:e})}}),c&&"excerpt"===a&&Object(l.createElement)(Ae,{label:Ce("Max number of words in excerpt"),value:f,onChange:function(e){return n({excerptLength:e})},min:10,max:100})),Object(l.createElement)(Re,{title:Ce("Post Meta Settings")},Object(l.createElement)(Me,{label:Ce("Display post date"),checked:s,onChange:function(e){return n({displayPostDate:e})}})),Object(l.createElement)(Re,{title:Ce("Sorting and Filtering")},Object(l.createElement)(Ue,pe()({order:p,orderBy:d},{numberOfItems:b,categoriesList:o,selectedCategoryId:m,onCategoryChange:function(e){return n({learningPrograms:""!==e?e:void 0})},onOrderChange:function(e){return n({order:e})},onOrderByChange:function(e){return n({orderBy:e})},onNumberOfItemsChange:function(e){return n({coursesToShow:e})}})),"grid"===i&&Object(l.createElement)(Ae,{label:Ce("Columns"),value:u,onChange:function(e){return n({columns:e})},min:2,max:y?Math.min(6,r.length):6,required:!0}))),y=Array.isArray(r)&&r.length;if(!y)return Object(l.createElement)(l.Fragment,null,g,Object(l.createElement)(Ve,{icon:"admin-post",label:Ce("List Courses")},Array.isArray(r)?Ce("No courses found."):Object(l.createElement)(Fe,null)));var h=[{icon:"list-view",title:Ce("List View"),onClick:function(){return n({postLayout:"list"})},isActive:"list"===i},{icon:"grid-view",title:Ce("Grid View"),onClick:function(){return n({postLayout:"grid"})},isActive:"grid"===i}];return Object(l.createElement)(l.Fragment,null,g,Object(l.createElement)(Ne,null,Object(l.createElement)(Be,{controls:h})),Object(l.createElement)(Te,null,Object(l.createElement)(Ie,{block:"hrscourses/list-courses",attributes:t})))}}]),t}(xe),Qe=je(function(e,t){var n=t.attributes,r=n.coursesToShow,o=n.order,a=n.orderBy,c=n.learningPrograms;return{ListCourses:(0,e("core").getEntityRecords)("postType","wsuwp_hrs_courses",Object(_e.pickBy)({learningPrograms:c,order:o,orderby:a,per_page:r},function(e){return!Object(_e.isUndefined)(e)}))}})(qe),Ge=n(6);var We=wp.i18n.__,ze=Ge.name,He=Ge.category,Ke=Ge.supports,Xe={title:We("List Courses"),category:He,description:We("Display a list of the most recent courses."),icon:"location-alt",keywords:[We("recent posts")],supports:Ke,edit:Qe,save:function(){return null}},Ye=wp.blocks.registerBlockType;[r,o,a,c,s,i].forEach(function(e){if(e){var t=e.settings,n=e.name;Ye(n,t)}})}]);