!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};!function(e,t,n){var r={};n.r(r),n.d(r,{name:function(){return g},settings:function(){return v}});var o={};n.r(o),n.d(o,{name:function(){return k},settings:function(){return O}});var a={};n.r(a),n.d(a,{name:function(){return A},settings:function(){return D}});var s={};n.r(s),n.d(s,{name:function(){return le},settings:function(){return pe}});var l={};n.r(l),n.d(l,{name:function(){return Pe},settings:function(){return Te}});var c={};n.r(c),n.d(c,{name:function(){return yt},settings:function(){return _t}});var i=window.wp.element,u=wp.i18n.__,p=wp.blockEditor.RichText,m=JSON.parse('{"u2":"hrscourses/course-datetime","W3":"common","be":{"inserter":false,"reusable":false},"Y4":{"datetimeMetaValue":{"type":"string","source":"meta","meta":"_wsuwp_hrs_courses_datetime"},"displayValue":{"type":"string","source":"text","selector":".course-datetime"}}}'),d=wp.i18n.__,h=wp.blockEditor.RichText,f=wp.i18n.__,g=m.u2,b=m.W3,w=m.Y4,y=m.be,v={title:f("Course Date and Time"),category:b,description:f("The date and/or time of the course."),icon:"calendar-alt",keywords:[f("courses")],attributes:w,supports:y,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.datetimeMetaValue,a=(t.displayValue,t.placeholder);return(0,i.createElement)("div",{className:n},(0,i.createElement)("div",{className:"components-base-control"},(0,i.createElement)("span",{className:"components-base-control__label"},u("Date: "))),(0,i.createElement)(p,{tagName:"span",className:"course-datetime",label:u("Course date and time"),placeholder:a||u("Add date and / or time…"),keepPlaceholderOnFocus:!0,value:o,onChange:function(e){return r({datetimeMetaValue:e,displayValue:e})},allowedFormats:[]}))},save:function(e){var t=e.attributes,n=e.className,r=t.displayValue;return r?(0,i.createElement)("p",{className:n},(0,i.createElement)("span",{className:"label"},d("Date: ")),(0,i.createElement)(h.Content,{tagName:"span",className:"course-datetime",value:r})):null}},E=wp.i18n.__,_=wp.blockEditor.RichText,C=JSON.parse('{"u2":"hrscourses/course-location","W3":"common","be":{"inserter":false,"reusable":false},"Y4":{"locationMetaValue":{"type":"string","source":"meta","meta":"_wsuwp_hrs_courses_location"},"displayValue":{"type":"string","source":"html","selector":".course-location"}}}'),L=wp.i18n.__,N=wp.blockEditor.RichText,V=wp.i18n.__,k=C.u2,x=C.W3,S=C.Y4,P=C.be,O={title:V("Course Location"),category:x,description:V("The meeting location of the course."),icon:"location-alt",keywords:[V("location")],attributes:S,supports:P,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.locationMetaValue,a=(t.displayValue,t.placeholder);return(0,i.createElement)("div",{className:n},(0,i.createElement)("div",{className:"components-base-control"},(0,i.createElement)("span",{className:"components-base-control__label"},E("Location: "))),(0,i.createElement)(_,{tagName:"span",className:"course-location",label:E("Course location"),placeholder:a||E("Add location…","wsuwp-hrs-courses"),keepPlaceholderOnFocus:!0,value:o,onChange:function(e){return r({locationMetaValue:e,displayValue:e})},allowedFormats:["core/bold","core/italic"]}))},save:function(e){var t=e.attributes,n=e.className,r=t.displayValue;return r?(0,i.createElement)("p",{className:n},(0,i.createElement)("span",{className:"label"},L("Location: ")),(0,i.createElement)(N.Content,{tagName:"span",className:"course-location",value:r})):null}},R=wp.i18n.__,M=wp.blockEditor.RichText,T=JSON.parse('{"u2":"hrscourses/course-presenter","W3":"common","be":{"inserter":false,"reusable":false},"Y4":{"presenterMetaValue":{"type":"string","source":"meta","meta":"_wsuwp_hrs_courses_presenter"},"displayValue":{"type":"string","source":"html","selector":".course-presenter"}}}'),H=wp.i18n.__,U=wp.blockEditor.RichText,B=wp.i18n.__,A=T.u2,z=T.W3,F=T.Y4,W=T.be,D={title:B("Course Presenter(s)"),category:z,description:B("The course presenter(s)."),icon:"id",keywords:[B("courses"),B("people"),B("presenters")],attributes:F,supports:W,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.presenterMetaValue,a=(t.displayValue,t.placeholder);return(0,i.createElement)("div",{className:n},(0,i.createElement)("div",{className:"components-base-control"},(0,i.createElement)("span",{className:"components-base-control__label"},R("Presenter: "))),(0,i.createElement)(M,{tagName:"span",className:"course-presenter",label:R("Course presenter"),placeholder:a||R("Add presenter(s)…"),keepPlaceholderOnFocus:!0,value:o,onChange:function(e){return r({presenterMetaValue:e,displayValue:e})},allowedFormats:["core/bold"]}))},save:function(e){var t=e.attributes,n=e.className,r=t.displayValue;return r?(0,i.createElement)("p",{className:n},(0,i.createElement)("span",{className:"label"},H("Presenter: ")),(0,i.createElement)(U.Content,{tagName:"span",className:"course-presenter",value:r})):null}},j=wp.i18n.__,Y=wp.element.Fragment,I=wp.components,G=I.PanelBody,J=I.TextControl,q=wp.blockEditor,Q=q.InspectorControls,K=q.URLInput,X=JSON.parse('{"u2":"hrscourses/course-video","W3":"common","be":{"inserter":false,"reusable":false},"Y4":{"recordedVideoUrl":{"type":"string","source":"attribute","selector":"a","attribute":"href"},"recordedVideoLink":{"type":"string","default":"Video Recording"}}}'),Z=wp.blockEditor.RichText,$=wp.components,ee=$.Path,te=$.SVG,ne=wp.components,re=ne.Path,oe=ne.SVG,ae=(0,i.createElement)(oe,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(re,{fill:"none",d:"M0 0h24v24H0V0z"}),(0,i.createElement)(re,{d:"M4 6.47L5.76 10H20v8H4V6.47M22 4h-4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z"})),se=wp.i18n.__,le=X.u2,ce=X.W3,ie=X.Y4,ue=X.be,pe={title:se("Course Video URL"),category:ce,description:se("The URLs for a course video."),icon:ae,keywords:[se("media")],attributes:ie,supports:ue,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.recordedVideoUrl,a=t.recordedVideoLink;return(0,i.createElement)(Y,null,(0,i.createElement)(Q,null,(0,i.createElement)(G,{title:j("Course Video Settings","wsuwp-hrs-courses")},(0,i.createElement)(J,{label:j("Course Video Link Text","wsuwp-hrs-courses"),help:j("Enter link text here to override the default video URL link text.","wsuwp-hrs-courses"),value:a,onChange:function(e){return r({recordedVideoLink:e})}}))),(0,i.createElement)("div",{className:n},(0,i.createElement)("div",{className:"components-base-control"},(0,i.createElement)("p",{className:"components-base-control__label"},j("Course video URL","wsuwp-hrs-courses"))),(0,i.createElement)(K,{autoFocus:!1,value:o,onChange:function(e){return r({recordedVideoUrl:e})}})))},save:function(e){var t=e.attributes,n=e.className,r=t.recordedVideoUrl,o=t.recordedVideoLink;return r?(0,i.createElement)("p",{className:n},(0,i.createElement)(te,{className:"svg-icon",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(ee,{fill:"none",d:"M0 0h24v24H0V0z"}),(0,i.createElement)(ee,{d:"M4 6.47L5.76 10H20v8H4V6.47M22 4h-4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z"})),(0,i.createElement)(Z.Content,{tagName:"a",className:"course-recorded-video__link",href:r,value:o})):null}},me=wp.i18n.__,de=wp.element.Fragment,he=wp.components,fe=he.PanelBody,ge=he.TextControl,be=wp.blockEditor,we=be.InspectorControls,ye=be.URLInput,ve=JSON.parse('{"u2":"hrscourses/course-online","W3":"common","be":{"inserter":false,"reusable":false},"Y4":{"onlineLearningUrl":{"type":"string","source":"attribute","selector":"a","attribute":"href"},"onlineLearningLink":{"type":"string","default":"Online Learning"}}}'),Ee=wp.blockEditor.RichText,_e=wp.components,Ce=_e.Path,Le=_e.SVG,Ne=wp.components,Ve=Ne.Path,ke=Ne.SVG,xe=(0,i.createElement)(ke,{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Ve,{d:"M3 3h14c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1zm13 2H4v8h12V5zm-3 1H5v4zm6 11v-1H1v1c0 .6.5 1 1.1 1h15.8c.6 0 1.1-.4 1.1-1z"})),Se=wp.i18n.__,Pe=ve.u2,Oe=ve.W3,Re=ve.Y4,Me=ve.be,Te={title:Se("Course Online URL"),category:Oe,description:Se("The URLs for an online course."),icon:xe,keywords:[Se("link")],attributes:Re,supports:Me,edit:function(e){var t=e.attributes,n=e.className,r=e.setAttributes,o=t.onlineLearningUrl,a=t.onlineLearningLink;return(0,i.createElement)(de,null,(0,i.createElement)(we,null,(0,i.createElement)(fe,{title:me("Online Course Settings","wsuwp-hrs-courses")},(0,i.createElement)(ge,{label:me("Online Course Link Text","wsuwp-hrs-courses"),help:me("Enter link text here to override the default online course URL link text.","wsuwp-hrs-courses"),value:a,onChange:function(e){return r({onlineLearningLink:e})}}))),(0,i.createElement)("div",{className:n},(0,i.createElement)("div",{className:"components-base-control"},(0,i.createElement)("p",{className:"components-base-control__label"},me("Online course URL"))),(0,i.createElement)(ye,{autoFocus:!1,value:o,onChange:function(e){return r({onlineLearningUrl:e})}})))},save:function(e){var t=e.attributes,n=e.className,r=t.onlineLearningUrl,o=t.onlineLearningLink;return r?(0,i.createElement)("p",{className:n},(0,i.createElement)(Le,{class:"svg-icon",viewBox:"0 0 20 20",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Ce,{d:"M3 3h14c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1zm13 2H4v8h12V5zm-3 1H5v4zm6 11v-1H1v1c0 .6.5 1 1.1 1h15.8c.6 0 1.1-.4 1.1-1z"})),(0,i.createElement)(Ee.Content,{tagName:"a",class:"course-recorded-video__link",href:r,value:o})):null}};function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=window.lodash;var De=wp.i18n.__,je=wp.data.withSelect,Ye=wp.apiFetch,Ie=wp.url.addQueryArgs,Ge=wp.element.Component,Je=wp.blockEditor,qe=Je.InspectorControls,Qe=Je.BlockControls,Ke=wp.components,Xe=Ke.Disabled,Ze=Ke.PanelBody,$e=Ke.Placeholder,et=Ke.QueryControls,tt=Ke.RangeControl,nt=Ke.Spinner,rt=Ke.ToggleControl,ot=Ke.Toolbar,at=Ke.RadioControl,st=Ke.ServerSideRender,lt={per_page:-1},ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(s,e);var t,n,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(r);if(o){var n=Fe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ze(this,e)});function s(){var e;return He(this,s),(e=a.apply(this,arguments)).state={taxLearningProgramsList:[]},e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.isStillMounted=!0,this.fetchRequest=Ye({path:Ie("/wp/v2/learning_program",lt)}).then((function(t){e.isStillMounted&&e.setState({taxLearningProgramsList:t})})).catch((function(){e.isStillMounted&&e.setState({taxLearningProgramsList:[]})}))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,r=e.ListCourses,o=this.state.taxLearningProgramsList,a=t.displayCourseContentRadio,s=t.displayCourseContent,l=t.displayPostDate,c=t.postLayout,u=t.columns,p=t.order,m=t.orderBy,d=t.learningPrograms,h=t.coursesToShow,f=t.excerptLength,g=(0,i.createElement)(qe,null,(0,i.createElement)(Ze,{title:De("Course Content Settings")},(0,i.createElement)(rt,{label:De("Display course content"),checked:s,onChange:function(e){return n({displayCourseContent:e})}}),s&&(0,i.createElement)(at,{label:"Show:",selected:a,options:[{label:"Excerpt",value:"excerpt"},{label:"Full post",value:"full_post"}],onChange:function(e){return n({displayCourseContentRadio:e})}}),s&&"excerpt"===a&&(0,i.createElement)(tt,{label:De("Max number of words in excerpt"),value:f,onChange:function(e){return n({excerptLength:e})},min:10,max:100})),(0,i.createElement)(Ze,{title:De("Post Meta Settings")},(0,i.createElement)(rt,{label:De("Display post date"),checked:l,onChange:function(e){return n({displayPostDate:e})}})),(0,i.createElement)(Ze,{title:De("Sorting and Filtering")},(0,i.createElement)(et,{order:p,orderBy:m,numberOfItems:h,categoriesList:o,selectedCategoryId:d,onCategoryChange:function(e){return n({learningPrograms:""!==e?e:void 0})},onOrderChange:function(e){return n({order:e})},onOrderByChange:function(e){return n({orderBy:e})},onNumberOfItemsChange:function(e){return n({coursesToShow:e})}}),"grid"===c&&(0,i.createElement)(tt,{label:De("Columns"),value:u,onChange:function(e){return n({columns:e})},min:2,max:b?Math.min(6,r.length):6,required:!0}))),b=Array.isArray(r)&&r.length;if(!b)return(0,i.createElement)(i.Fragment,null,g,(0,i.createElement)($e,{icon:"admin-post",label:De("List Courses")},Array.isArray(r)?De("No courses found."):(0,i.createElement)(nt,null)));var w=[{icon:"list-view",title:De("List View"),onClick:function(){return n({postLayout:"list"})},isActive:"list"===c},{icon:"grid-view",title:De("Grid View"),onClick:function(){return n({postLayout:"grid"})},isActive:"grid"===c}];return(0,i.createElement)(i.Fragment,null,g,(0,i.createElement)(Qe,null,(0,i.createElement)(ot,{controls:w})),(0,i.createElement)(Xe,null,(0,i.createElement)(st,{block:"hrscourses/list-courses",attributes:t})))}}])&&Ue(t.prototype,n),s}(Ge),it=je((function(e,t){var n=t.attributes,r=n.coursesToShow,o=n.order,a=n.orderBy,s=n.learningPrograms;return{ListCourses:(0,e("core").getEntityRecords)("postType","wsuwp_hrs_courses",(0,We.pickBy)({learningPrograms:s,order:o,orderby:a,per_page:r},(function(e){return!(0,We.isUndefined)(e)})))}}))(ct),ut=wp.components,pt=ut.Path,mt=ut.Rect,dt=ut.SVG,ht=(0,i.createElement)(dt,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(pt,{d:"M0,0h24v24H0V0z",fill:"none"}),(0,i.createElement)(mt,{x:"11",y:"7",width:"6",height:"2"}),(0,i.createElement)(mt,{x:"11",y:"11",width:"6",height:"2"}),(0,i.createElement)(mt,{x:"11",y:"15",width:"6",height:"2"}),(0,i.createElement)(mt,{x:"7",y:"7",width:"2",height:"2"}),(0,i.createElement)(mt,{x:"7",y:"11",width:"2",height:"2"}),(0,i.createElement)(mt,{x:"7",y:"15",width:"2",height:"2"}),(0,i.createElement)(pt,{d:"M20.1,3H3.9C3.4,3,3,3.4,3,3.9v16.2C3,20.5,3.4,21,3.9,21h16.2c0.4,0,0.9-0.5,0.9-0.9V3.9C21,3.4,20.5,3,20.1,3z M19,19H5V5h14V19z"})),ft=JSON.parse('{"u2":"hrscourses/list-courses","W3":"widgets","be":{"align":true,"html":false}}'),gt=wp.i18n,bt=gt.__,wt=gt._x,yt=ft.u2,vt=ft.W3,Et=ft.be,_t={title:bt("List Courses"),category:vt,description:bt("Display a list of the most recent courses."),icon:ht,keywords:[bt("recent posts")],supports:Et,styles:[{name:"default",label:wt("Default","block style"),isDefault:!0},{name:"bulleted",label:wt("Bullets","block style")}],edit:it,save:function(){return null}},Ct=wp.blocks.registerBlockType;[r,o,a,s,l,c].forEach((function(e){if(e){var t=e.settings,n=e.name;Ct(n,t)}}))}(0,0,e)}();