!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}var s,i,a=function(){function e(n,s){return t(this,e),this._list=n,this._menu=document.createElement("nav"),this._menuContents=document.createElement("div"),this._menuToggle=document.createElement("button"),this._menuTitle=document.createElement("p"),this._menuId="taxonomy-menu-".concat(s),this._appendElements(),this._setAttributes(),this._menu}return n(e,[{key:"_appendElements",value:function(){this._list.insertAdjacentElement("beforebegin",this._menu),this._menu.appendChild(this._menuContents),this._menuContents.appendChild(this._menuToggle),this._menuContents.appendChild(this._list),this._menuToggle.appendChild(this._menuTitle),this._menuTitle.appendChild(document.createTextNode("".concat(this._list.dataset.menuTitle,"s")))}},{key:"_setAttributes",value:function(){this._list.classList.add("menu-items"),this._menu.classList.add("menu"),this._menuContents.classList.add("menu-contents"),this._menuToggle.classList.add("menu-toggle"),this._menuTitle.classList.add("menu-title"),this._menuToggle.setAttribute("aria-haspopup",!0),this._menuToggle.setAttribute("id",this._menuId),this._list.setAttribute("aria-labelledby",this._menuId)}}]),e}(),o=function(){function e(n){t(this,e),this._menu=n,this._menuContents=this._menu.querySelector(".menu-contents"),this._menuToggleButton=this._menu.querySelector(".menu-toggle"),this._menuTitle=this._menu.querySelector(".menu-title"),this._menuLinks=this._menu.querySelectorAll("a"),this._expanded=!0,this._animate=!1,this._duration=200,this._frameTime=1e3/60,this._nFrames=Math.round(this._duration/this._frameTime),this._opts={},this._collapsed={},this.expand=this.expand.bind(this),this.collapse=this.collapse.bind(this),this.toggle=this.toggle.bind(this),this._calculateScales(),this._createEaseAnimations(),this._addEventListeners(),this.collapse(),this.activate()}return n(e,[{key:"activate",value:function(){this._menu.classList.add("menu-active"),this._menuToggleButton.setAttribute("aria-expanded",!1),this._menuLinks.forEach((function(t){t.setAttribute("tabindex",-1)})),this._animate=!0}},{key:"collapse",value:function(){if(this._expanded){this._expanded=!1;var t=this._collapsed,e=t.x,n=t.y,s=1/e,i=1/n;this._menu.style.transform="scale(".concat(e,", ").concat(n,")"),this._menuContents.style.transform="scale(".concat(s,", ").concat(i,")"),this._animate&&this._applyAnimation({expand:!1})}}},{key:"expand",value:function(){this._expanded||(this._expanded=!0,this._menu.style.transform="scale(1, 1)",this._menuContents.style.transform="scale(1, 1)",this._animate&&this._applyAnimation({expand:!0}))}},{key:"toggle",value:function(){this._expanded?this.collapse():this.expand()}},{key:"_addEventListeners",value:function(){this._menuToggleButton.addEventListener("click",this.toggle)}},{key:"_applyAnimation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._opts,e=t.expand;if(this._menu.classList.remove("menu-expanded"),this._menu.classList.remove("menu-collapsed"),this._menuContents.classList.remove("menu-contents-expanded"),this._menuContents.classList.remove("menu-contents-collapsed"),window.getComputedStyle(this._menu).transform,e)return this._menu.classList.add("menu-expanded"),this._menuContents.classList.add("menu-contents-expanded"),this._menuToggleButton.setAttribute("aria-expanded",!0),void this._menuLinks.forEach((function(t){t.setAttribute("tabindex",0)}));this._menu.classList.add("menu-collapsed"),this._menuContents.classList.add("menu-contents-collapsed"),this._menuToggleButton.setAttribute("aria-expanded",!1),this._menuLinks.forEach((function(t){t.setAttribute("tabindex",-1)}))}},{key:"_calculateScales",value:function(){var t=this._menuTitle.getBoundingClientRect(),e=this._menu.getBoundingClientRect();this._collapsed={x:t.width/e.width,y:t.height/e.height}}},{key:"_createEaseAnimations",value:function(){var t=document.querySelector(".menu-ease");if(t)return t;(t=document.createElement("style")).classList.add("menu-ease");for(var e=[],n=[],s=[],i=[],a=100/this._nFrames,o=0;o<=this._nFrames;o++){var u=this._ease(o/this._nFrames).toFixed(5),l=(o*a).toFixed(5),c=this._collapsed.x,m=this._collapsed.y;this._append({percentage:l,step:u,startX:c,startY:m,endX:1,endY:1,outerAnimation:e,innerAnimation:n}),this._append({percentage:l,step:u,startX:1,startY:1,endX:this._collapsed.x,endY:this._collapsed.y,outerAnimation:s,innerAnimation:i})}return t.textContent="\n\t\t@keyframes menuExpandAnimation {\n\t\t\t".concat(e.join(""),"\n\t\t}\n\n\t\t@keyframes menuExpandContentsAnimation {\n\t\t\t").concat(n.join(""),"\n\t\t}\n\n\t\t@keyframes menuCollapseAnimation {\n\t\t\t").concat(s.join(""),"\n\t\t}\n\n\t\t@keyframes menuCollapseContentsAnimation {\n\t\t\t").concat(i.join(""),"\n\t\t}"),document.head.appendChild(t),t}},{key:"_append",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._opts,e=t.percentage,n=t.step,s=t.startX,i=t.startY,a=t.endX,o=t.endY,u=t.outerAnimation,l=t.innerAnimation,c=(s+(a-s)*n).toFixed(5),m=(i+(o-i)*n).toFixed(5),h=(1/c).toFixed(5),d=(1/m).toFixed(5);u.push("\n\t\t\t".concat(e,"% {\n\t\t\t\ttransform: scale(").concat(c,", ").concat(m,");\n\t\t\t}")),l.push("\n\t\t\t".concat(e,"% {\n\t\t\t\ttransform: scale(").concat(h,", ").concat(d,");\n\t\t\t}"))}},{key:"_clamp",value:function(t,e,n){return Math.max(e,Math.min(n,t))}},{key:"_ease",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return t=this._clamp(t,0,1),1-Math.pow(1-t,e)}}]),e}();s=document.querySelectorAll('.courses-archive-frontmatter [data-collapse-menu="true"]'),i=1,s.forEach((function(t){var e=new a(t,i);new o(e),i++}))}();